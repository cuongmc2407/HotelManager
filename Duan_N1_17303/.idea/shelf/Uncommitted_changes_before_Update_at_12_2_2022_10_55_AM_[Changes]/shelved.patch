Index: app/src/main/java/team1/fpoly/duan_n1_17303/Fragment/RoomFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package team1.fpoly.duan_n1_17303.Fragment;\r\n\r\nimport android.app.Dialog;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.ListView;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport team1.fpoly.duan_n1_17303.Adapter.ProductAdapter;\r\nimport team1.fpoly.duan_n1_17303.Adapter.RoomAdapter;\r\nimport team1.fpoly.duan_n1_17303.Dao.RoomDao;\r\nimport team1.fpoly.duan_n1_17303.MainActivity;\r\nimport team1.fpoly.duan_n1_17303.Object.Product;\r\nimport team1.fpoly.duan_n1_17303.Object.Room;\r\nimport team1.fpoly.duan_n1_17303.R;\r\nimport team1.fpoly.duan_n1_17303.Tools.AddRoomFragment;\r\n\r\npublic class RoomFragment extends Fragment {\r\n\r\n    ListView lv_Room;\r\n    FloatingActionButton fl_Add_Room;\r\n    AddRoomFragment addRoomFragment;\r\n    ArrayList<Room> listRoom = new ArrayList<>();\r\n    Room room;\r\n    RoomAdapter roomAdapter;\r\n    RoomDao roomDao;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_room, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        lv_Room = view.findViewById(R.id.lv_Room);\r\n        FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\r\n        fl_Add_Room = view.findViewById(R.id.fl_Add_Room);\r\n        addRoomFragment  = new AddRoomFragment();\r\n\r\n        roomDao = new RoomDao(getContext());\r\n        loadData();\r\n        lv_Room.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView<?> adapterView, View view, int position, long l) {\r\n                Toast.makeText(getContext(),\"aaaaaaa\",Toast.LENGTH_LONG).show();\r\n\r\n                room = listRoom.get(position);\r\n                updateData(position);\r\n                loadData();\r\n\r\n            }\r\n        });\r\n\r\n\r\n        fl_Add_Room.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                MainActivity mainActivity = (MainActivity) getActivity();\r\n                ActionBar actionBar =  mainActivity.getSupportActionBar();\r\n                actionBar.hide();\r\n                fragmentManager.beginTransaction().replace(R.id.frameLayout, addRoomFragment).commit();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void updateData(int position) {\r\n        Dialog dialog = new Dialog(getActivity());\r\n        dialog.setContentView(R.layout.fragment_add_room);\r\n        TextView tv_Title_Room = dialog.findViewById(R.id.tv_Title_Room);\r\n        TextView tv_Room_Type = dialog.findViewById(R.id.tv_Room_Type);\r\n        TextView tv_Room_View = dialog.findViewById(R.id.tv_Room_View);\r\n        EditText ed_Room_Name = dialog.findViewById(R.id.ed_Room_Name);\r\n        EditText ed_Room_Location = dialog.findViewById(R.id.ed_Room_Location);\r\n        EditText ed_Room_Price_Day = dialog.findViewById(R.id.ed_Room_Price_Day);\r\n        EditText ed_Room_Price_Hour = dialog.findViewById(R.id.ed_Room_Price_Hour);\r\n        ImageView img_Back_Room = dialog.findViewById(R.id.img_Back_Room);\r\n        ImageView img_Save_Room = dialog.findViewById(R.id.img_Save_Room);\r\n\r\n        final String[] room_type = new String[1];\r\n        final String[] room_view = new String[1];\r\n        img_Back_Room.setOnClickListener(view -> {\r\n            dialog.dismiss();\r\n        });\r\n        img_Save_Room.setOnClickListener(view -> {\r\n            Room room = listRoom.get(position);\r\n            {\r\n                Spinner spinnerRoomType = (Spinner) view.findViewById(R.id.spinner_Room_Type);\r\n                ArrayAdapter<CharSequence> adapter_Room_Type = ArrayAdapter.createFromResource(getContext(),\r\n                        R.array.room_type, android.R.layout.simple_spinner_item);\r\n                adapter_Room_Type.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                spinnerRoomType.setAdapter(adapter_Room_Type);\r\n                spinnerRoomType.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                    @Override\r\n                    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                        room_type[0] = (getResources().getStringArray(R.array.room_type))[position];\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNothingSelected(AdapterView<?> parent) {\r\n                        room_type[0] = (getResources().getStringArray(R.array.room_type))[0];\r\n                    }\r\n                });\r\n            }\r\n            {\r\n                Spinner spinnerRoomView = (Spinner) view.findViewById(R.id.spinner_Room_View);\r\n                ArrayAdapter<CharSequence> spinner_Room_View = ArrayAdapter.createFromResource(getContext(),\r\n                        R.array.room_view, android.R.layout.simple_spinner_item);\r\n                spinner_Room_View.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                spinnerRoomView.setAdapter(spinner_Room_View);\r\n                spinnerRoomView.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                    @Override\r\n                    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n                        room_view[0] = (getResources().getStringArray(R.array.room_view))[position];\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNothingSelected(AdapterView<?> parent) {\r\n                        room_view[0] = (getResources().getStringArray(R.array.room_view))[0];\r\n\r\n                    }\r\n                });\r\n            }\r\n\r\n            tv_Room_Type.setText(room_type[0]);\r\n            tv_Room_View.setText(room_view[0]);\r\n\r\n            room.setRoomName(ed_Room_Name.getText().toString());\r\n            room.setRoomLocation(Integer.parseInt(ed_Room_Location.getText().toString()));\r\n            room.setDayPrice(Integer.parseInt(ed_Room_Price_Day.getText().toString()));\r\n            room.setHourPrice(Integer.parseInt(ed_Room_Price_Hour.getText().toString()));\r\n\r\n\r\n            if (roomDao.updateRoom(room)){\r\n                roomAdapter.notifyDataSetChanged();\r\n                Toast.makeText(getContext(), \"Sửa thông tin phòng thành công\", Toast.LENGTH_SHORT).show();\r\n\r\n            }else Toast.makeText(getContext(), \"Sửa thất bại\", Toast.LENGTH_SHORT).show();\r\n            dialog.dismiss();\r\n        });\r\n        dialog.show();\r\n    }\r\n\r\n    private void loadData() {\r\n        listRoom.clear();\r\n        listRoom = roomDao.getListRoom();\r\n        roomAdapter = new RoomAdapter(getContext(), listRoom,roomDao);\r\n        lv_Room.setAdapter(roomAdapter);\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/team1/fpoly/duan_n1_17303/Fragment/RoomFragment.java b/app/src/main/java/team1/fpoly/duan_n1_17303/Fragment/RoomFragment.java
--- a/app/src/main/java/team1/fpoly/duan_n1_17303/Fragment/RoomFragment.java	(revision b5fef744a39d6f1eac61b3620a1bdc3e2a9a8f4d)
+++ b/app/src/main/java/team1/fpoly/duan_n1_17303/Fragment/RoomFragment.java	(date 1669798742789)
@@ -62,18 +62,15 @@
 
         roomDao = new RoomDao(getContext());
         loadData();
-        lv_Room.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+        lv_Room.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() {
             @Override
-            public void onItemClick(AdapterView<?> adapterView, View view, int position, long l) {
+            public boolean onItemLongClick(AdapterView<?> parent, View view, int position, long id) {
                 Toast.makeText(getContext(),"aaaaaaa",Toast.LENGTH_LONG).show();
-
                 room = listRoom.get(position);
                 updateData(position);
-                loadData();
-
+                return false;
             }
         });
-
 
         fl_Add_Room.setOnClickListener(new View.OnClickListener() {
             @Override
